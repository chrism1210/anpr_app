SDR-143: [Fleet3] UK ANPR Design Document - Beta1StakeholdersOwner: Nguyen Nguyen, Chi TranReviewer(s): Nathan Grubb, Chi Tran, Tri Phan, Cory Dawson, Trey Mills, Jimmy Nguyen, Yumi Tran, David Polites, Cuong DoKey Stakeholders Sign Off:NOTE: As per When to involve the DAC: Processes for DAC Involvement in Engineering Design, please make sure to add a DAC stakeholder here if required.StakeholderRoleSign-Off DateNotes/Concerns1Yumi TranEngineering Manager11/3/2023Signed with one concern on how to sync Ecom configs of Reads offload via Wifi only, Ecom read/hit offload enable/disable, and Ecom hotlist sync enable/disable.  The sync-up should be in detail.2Nathan GrubbStaff Engineer (L10+)11/2/2023Only concern I have is figuring out the details for how to sync configuration once the Ecom design is ready. The main concern there is just how often we plan to sync, what to do when it fails, etc.The other concern was just clarifying the workflow for when we show the user that we have connectivity to the management server via Dashboard. For example, does it mean we were able to ping the Management Server in the last hour successfully or offload a record successfully, etc. 3Cory DawsonTPM11/2/20234Chris MassonProduct Manager11/2/20235David PolitesDAC11/3/20236Jimmy NguyenEngineering Manager (Other Team)11/2/20237Cuong DoEngineering Manager (Other Team)Tuesday, November 7Need to see which WSDL requests from UTMC and BOF we decide to use for offloading plate reads and plate/context images to MS. Also how to handle plate/context image cropping/downsampling in HUB which is net new in comparison to current ALPR flow.Another concern is how do we sync FUC and MS config.8Chi TranEngineer (Other Team)Friday, November 3910Change LogAll changes to the design after the review should be noted here, reviewed, “read and understood” with the Key Stakeholders.Change TypeChange DescriptionDate of Change1NewInitial version + First internal reviewMonday, October 3023456Related Links* ANPR Re-design Alignment/Planning* SPEC: 7.7.1 Fleet 3 Automatic Number Plate Recognition (ANPR) for UK National ANPR System (NAS), Part 1 - NAS Integration via Force Management Server/BOF* UTMC inputs:o UTMC Protocol spec:*  https://utmc.uk/technical-specification* https://utmc.uk/guidance-%26-good-practiceo UTMC WSDL file : UTMC 1.2.wsdl o Definition of messages from Camera to Instation : UTMC-TR007.002 ANPR.pdf* BOF Protocol spec:o https://aaxn.sharepoint.com/:w:/r/sites/ALPRDeltaTeam/_layouts/15/Doc.aspx?sourcedoc=%7BF1ACD97B-8FE7-4EDB-BC9E-6BCE832311C3%7D&file=BOF%203.0%20Web%20Services.doc&action=default&mobileredirect=true&cid=6482a6d7-e44a-4469-ad7f-333e1512d095* ECOM Design document SDR-143 [ANPR][ECOM] Record Ingestion Detail Design* ANPR approach* UK ANPR - Force Management Server Network LogPurposeThis design document describes the read record work flow of ANPR-UK  in Fleet 3 HUB. Beginning with receiving new record from device and sharing it directly with the Management Server, and ingesting into ECOM. Hit flow is not covered  it this design.TerminologyUsing succinct language can help with communication but may also require the use of uncommon (or perhaps inventive) terminology. Use this section to introduce language that will help you more efficiently communicate your plans.This section captures uncommon (or inventive) terminology used in this document.TermDefinitionGoals List goals/features you are planning on achieving with the project/feature. For example:1. Fleet3 HUB offload ANPR read records directly to Management Server and ECOM2. Fleet3 HUB will not offload ANPR records to ECOM if user disable ECOM offload in ECOM configuration page.3. Fleet 3 HUB offloads ANPR records to ECOM via wifi only when user enable wifi offload only .4. Access Information and credentials to communicate Management Server are given to Fleet3 via ECOM configuration5. Fleet 3 HUB supports both UTMC and BOF protocols to communicate with Management Server6. Fleet 3 HUB will crop ANPR images (plate and context) to meet UK regulation requirements when offload to Management Server.a. Size information here7. End-to-end flow of read records from the hub to the force Management Server shall be completed in no greater than 4 second. Context image can be sent later, within 24 hours.8. Dashboard will indicate Management Server connectivity statusNon-Goals1. Reg 109 compliance (UI, alerting etc.)2. In-Vehicle Hit Alerting:a. Live PNC Query/Alertingb. VOI/PNC Extract/Bulk List Alerting3. Maintain NAS compliance for ANPR systems which requires mobile ANPR systems to meet Data storage and management requirements (refer here)a. Engineering will try to meet requirements as much as possible - but it’s not high priority in Beta1. Try to re-use existing ALPR flows.4. Hit offload prioritization5. VPN configuration a. This is done in CradlePoint configurationBackgroundIn first version of this design - Fleet 3 Hub: UK ANPR Design Document - ECOM acts as proxy to management servers. Unfortunately, as we deep dived in we learned that the Management Server is physical hardware that exists within each agency’s private network. Several approaches were defined at ANPR approach. Option 2 - Option 2: Remove ECOM from the critical path: ANPR approach - is selected as new solution for ANPR feature where Fleet3 HUB will connect directly to management server.Design Assumptions* Management Servers follow UTMC and BOF protocols correctly.* Re-use same ALPR code base for local record management.* Other flow of ALPR are keeping (hotlist download, hit matching,..) - but ECOM should return empty hotlist.- refer Download hotlist* ECOM changes are not covered in this design* No changes required for Dashboard UI* MS has a static IP address within the agency network (Due to rebind issue)Design Limitations Limitations need to be verified:* Limitations of Management Server ( API call rate limit, API call latency, API call timeout) ? Need to benchmark.* Only VPN/APN + HTTP  is supported with direct IP - details at DNS rebind issue Impact on Existing Functionality and ComplianceEnumerate how this work impacts existing functionality and compliance requirements (e.g. PACE, FIPS 140-2, FedRAMP, etc). This helps identify areas of special concern to make sure integration with the rest of the system works properly and critical compliance and legal requirements are properly covered.Reach out to trust@axon.com, or go to the #infosec channel and tag @trust with any questions/requests to review/chat about compliance for the feature.Context/Architecture DiagramBelow is box diagram of system - it’s inherited from Context Diagram: Connected Devices Firmware Design Document - ALPR Handler.https://lucid.app/lucidchart/6ace3cb7-673a-4325-a7b4-f2e07d142142/edit?viewport_loc=-243%2C-1325%2C2551%2C1425%2C0_0&invitationId=inv_0468e93d-da9a-4b99-ac44-46da457d6169The main change is at adding record offloading to ANPR Management Server (greenline) - credit to Chi Tran for creating below diagram.Details of interacts as below - it’s inherited from E-1: Device offloads read records.: Connected Devices Firmware Design Document - ALPR Handler - where new changes are highlighted in red. Also we keep ALPR term instead of ANPR - because in beta1 we will base on ALPR flow as much as possible.E-1: Device offloads read records to ECOM when ECOM offload is enabled - Offloads are made via Wifi only of Wifi Offload Only is enabledE-2: Device offloads BLOB, context and crop imagesE-3: Device downloads hotlist , hotlist ingestion is disabled in case of ANPRF-1 : Device offloads read records to ANPR Management ServerIPC-1: Config Manager dispatches ALPR’s setting.IPC-2: Config Manager dispatches ALPR’s setting.IPC-3: Gateway Client forwards license plate(s) read.IPC-4: Notify incoming read record(s) | Notify incoming hit record.IPC-5: UI Server forwards user action on hit record.IPC-6: APLR Handler sends audit event for each hit record.IPC-7: ALPR Handler gets auth token.IPC-8: UI Server query current speedIPC-9: Get current wifi connectivity statusI-1: Gateway Client forwards ALPR’s setting.I-2: FCH sends license plate(s) readD-1: Insert/Update/Delete/Query actionD-2: Query action’s resultANPR and ALPR management structureIn previous version  ANPR and ALPR management structure: Fleet 3 Hub: UK ANPR Design Document - country code is used to configure whether ANPR or ALPR is used. But in this design - only read record streaming flow is covered, other flow are same with ALPR flow , so options:* Keeping using country code to separate ANPR and ALPR flow* Applying same ALPR flow for both ANPR and ALPR, and basing on Management Server configuration available to add new upload path for beta 1. Separate ANPR and ALPR flows will be decided in next phase.Record Offloading to ECOMIt’s same existing ALPR record offloading flow - excepts  new ECOM configurations control offloading conditions:* ECOM record offloading Enable/Disable ConfigurationThis configuration control ON/OFF of ECOM record offloading* ECOM Wifi Offload Only ConfigurationIf this configuration is set to TRUE and ECOM record offload ding is enabled - Fleet3 HUB offload records to ECOM via wifi onlyRecord Offloading to ANPR Management ServersManagement Server CommunicationProtocol standards for read reportingUTMC and BOF/BOF2 standard are supported. These standards are based on SOAP.Access Information and CredentialsFollow information are required to access Management server - API is defined hereGET /anpr/v1/agencies/:agencyId/msSettingResponse{ "data": [ { "name": string, "hostName": string, "hostIp": string, "protocol": string }, { "name": string, "hostName": string, "hostIp":…: SDR-143 [ANPR][ECOM] Record Ingestion Detail DesignAttribute NameAttribute TypeDescriptionMandatory?NameStringHostNameStringHostIPStringYProtocolStringUTMC/BOF?YCredentials?TBDDNS rebind issueCommunication to ANPR Management Server is private via VPN. In Fleet3 HUB , DNS Rebind Protection is enabled (except to Commander domains) , refer [Fleet 3] DNS Rebind Protection Exclusion 1:3:1, so if ANPR Management Server IP is in private range then DNS resolve response will be is rejected by dnsmasq, leading to failed requests. Because of this - HostDomain should be included in /etc/config/dhcp to be accepted by dnsmasq.In beta1 scope - I suggest to not implement this, hostIP should be configured to connect to Management Server.Security considerationsAll agencies that in-contact with us use VPN/APN + HTTP - so only HTTP is supported now in Beta1.But we should prepare for other options (HTTPS, HTTPS with client certificates, CORBRA security).Cropping ANPR images (plate and context) Recap from NAS strictly limits the size of the plate crop and context images. Plate crop must be 120x60 pixels and 3KB…: SPEC: 7.7.1 Fleet 3 Automatic Number Plate Recognition (ANPR) for UK National ANPR System (NAS), Part 1 - NAS Integration via Force Management Server/BOF:NAS strictly limits the size of the plate crop and context images.  Plate crop must be 120x60 pixels and 3KB max.  Context image must be 25KB max and should focus on the targeted vehicle (this will require cropping the context image similar to the cropping that supports the Flock Vehicle Fingerprint data enrichment integration).Format of imageFor BOF:The binary image files with extension .OVR (Overviews) or .JPG (Plate Images) with the same base name are located and added to this web call. Per guideline A UTMC Technical Guide Library reference UTMC-TR007.002 :* https://img1.wsimg.com/blobby/go/95c7434a-9932-4705-a27f-9ee92d8138be/downloads/UTMC-TR007.002%20ANPR.pdf?ver=1676889525744* https://utmc.uk/guidance-%26-good-practiceThen Management Server can support :Refer https://www.gov.uk/government/publications/national-anpr-standards/national-anpr-service-technical-specifications-accessible-version#anpr-read-records :A plate patch must be in JPEG format, 120x60 pixels and be no more than 3kB in size.Overview – showing the vehicle in the context of the read zone (Optional). An overview image must be in JPEG format, no more than 25kB in size.Where images obtained by a camera exceed 3kB for a plate patch or 25kB for an overview, these must be adjusted prior to forwarding to the NAS.So JPEG is selected format.Show Management Server connectivity statusWhen ANPR UK is enabled, Dashboard should show connectivity status to Management Server. API contract to Dashboard get connectivity status from UI server is mentioned /api/getConnectivity (UPDATED): [Fleet3Hub] uiserver API changes for ANPRTo implement connectivity check to Management Server, options:* (1) Ping ICMP only:o But it’s not applicable if Ping is disabled in MS* (2) Based on success offloading metadata and context images o Have to try to offload any time with suitable backoff retry to ensure don’t flood MS too much* (3) Based on calling any specific call periodically - need to check again UTMC + BOF2 standard o With UTMC: using HeartBeat message:* But interval to send this message should be configured to MS as mentioned in spec:* Where a Camera is connected via a network which does provide a fixed IP address (for example some mobile networks), it may not be possible for the Instation to initiate a data transaction with a Camera (it may be impossible to determine the IP address allocated by the network). The Camera should therefore be configured periodically to send a ‘Heartbeat’ message to allow the Instation to respond with a message to the Camera. This heartbeat message is essentially an empty message which must be sent if no other messages have been sent within a configurable period of time (<HeartbeatInterval>).o With BOF2:* Using PNCStatusWebService.pingPNC: Management Server Status(3) is preferred way.Download hotlistIn Beta 1 - only Read Records Streaming are support. So no hotlist ingestion supported by turning off hotlist ingestion from ECOM - same as proposed at Turn On/off Hotlist Ingestion From ECOM: Fleet 3 Hub: UK ANPR Design DocumentA configuration toggle flag with value False  will be set from ECOM.ECOM also return get hotlist metadata response with indexes(head, tail) are  -1s to force cleaning up local hotlist database if any.API DescriptionData modelBased on product spec, to fulfill NAS compliance, ANPR need to provide these information when offloading record to MS, here is a comparison with field in sendCompactCaptureABCDE1NAS compliancesendCompactCaptureaddBinaryCaptureDataExistedConcern2signaturesignature0Based on the example request, this can be empty3Logged-in User Nameusernameusername1How does Axon user mapped to MS user? Is it 1:1?4Plate textvrmVrm15Force ID (2 or 3 character code)feedIdentifierfeedIdentifier0Synced from ECOM Get Camera Identifier - FUC ID: SDR-143 [ANPR][ECOM] Record Ingestion Detail Design6Unit ID (Short integer, range 0 to 9999)sourceIdentifiersourceIdentifier0Synced from ECOM  Get Camera Identifier - FUC ID: SDR-143 [ANPR][ECOM] Record Ingestion Detail Design7Camera ID - Always defaulted to 1 (Short integer, range 0 to 9999)cameraIdentifiercameraIdentifier0Synced from ECOM Get Camera Identifier - FUC ID: SDR-143 [ANPR][ECOM] Record Ingestion Detail Design8Plate crop imagebinaryImageBinaryDataType = 'O'19Context imagebinaryImageBinaryDataType = 'P'110Date/Time of read in format milliseconds since epochcaptureDatecaptureTime1Nit, name is different as shown in spec but they should have the same meaning11Latitude location of readlatitude112Logitude location of readlongitude113Confidence percentage of readconfidencePercentage114cameraPresetPosition0Empty?15cameraPan0Empty?16cameraTilt0Empty?17cameraZoom0Empty?18motionTowardCamera0Empty?Data modeling with Fleet 3 Hub SQLitetype ReadRecord struct {    Id              int64    Uuid            string    Time            int64 //Unix Epoch time in nanoseconds    PlateRead       string    ContextImage    []byte    PlatePatch      []byte    Metadata        []byte //BLOB - marshaled protobuf message    ParentRecordKey string    Mute            int32    Action          int32    UploadTime      int64  //Unix Epoch time in nanosecond    EngineeringData []byte //BLOB - engineering data for closed-loop learning    HitResolution   int32    HitType         HitType    IsHitHotlist    bool    Misc            string    Gps             *common.GpsLocation    HotlistRecord   *alpr.HotlistRecord    SuspendState    int32}Need new column to detect if offloaded or not?Current record schema ? Add new column to detect if record offloaded to MS or not ? TBD - Not yet decided now - I’m checking to use dedicated table to manage offload status? We should name the column as generic as possible for further extend, proposing forwarded ? TBD - Not yet decided now - I’m checking to use dedicated table to manage offload statusvar recordTableSchema = []string{    "id INTEGER PRIMARY KEY",    "uuid TEXT NOT NULL",    "time INTEGER NOT NULL",    "plate_read TEXT NOT NULL",    "parent_record_key TEXT",    "mute INTEGER",    "action INTEGER",    "upload_time INTEGER",}Current image/blob schema ? Add new column to detect if context image offloaded to MS or notvar blobTableSchema = []string{    "uuid TEXT PRIMARY KEY",    "context_image BLOB",    "plate_patch BLOB",    "metadata BLOB",    "engineering_data BLOB",}Contract between Axon ECOM and Fleet 3 Hub ? keeps the same as currentSince we don’t need to touch the interface between Axon ECOM and Fleet 3 Hub, this proto message should be the same as currentmessage ReadRecordMetadata {    string                              read_record_id          = 5;    string                              main_record_id          = 6; // for sub-records of long tracks    int64                               timestamp_epoch_in_nano = 10;    string                              plate_read              = 20;    Rect                                image_coord             = 30;    Rect                                plate_coord             = 40;    admv2_common.GpsLocation            gps                     = 50;    HotlistRecord                       hotlist_record          = 60;    MuteState                           muted                   = 70;    OfficerAction                       action                  = 80;    string                              primary_officer_id      = 90;    admv2_common.ALPRHitResolution      hit_resolution          = 100;    map<string, string>                 others                  = 110; // for different fields utilized in many ALPR versions}ECOM endpointsSame current endpoints for streaming records.For ECOM Configuration Sync -  Refer Get Camera Identifier - FUC ID: SDR-143 [ANPR][ECOM] Record Ingestion Detail DesignManagement Server EnDpointsUTMCFor offload record to Management Server via UTMC, we use CameraToInstation API. This API  allows for sending: plate data, ANPR and machine diagnostics, proprietary logs, images, current Camera configuration and request for configuration in any combination. In our case - we use to send plate data and images.* Plates data are included in PlateReadArray sub element of CameraToInstation , array of plate read results may be included in one message* Images data are included ImageArray sub element of CameraToInstation, array of camera images may be included. UTMC support five types of image can be sent: PlatePatch, ANPR Image, Overview Image, Context Image or Context Overview Image. In one CameraToInstation message we can mix any number of plates data and Images data, examples:* Only one plate read included* A batch of plate read included* Only one PlatePatch (or plateImage) included* A batch of PlatePatchs included* Only one Context Image included* A batch of Context Images included* Mix between any number of plate reads and any number of Context Image or PlatePatch includedSo to unify same approach with current ECOM offloading flow and BOF/BOF2 in next section, we will offload :* Batch of plate reads and platePatch(plateimage)  first* Batch of Image Contexts are offloading later within 24hoursBOF/BOF2(from Chi Tran)For offloading record to Management Server via BOF/BOF2, we can select between these APIs:* sendCapture: Single record ingestion with normal parameters, image is optional* sendCompactCapture: Single record ingestion with serialized parameters, textual data only, image is not allowed * sendCompoundCapture: Batch record ingestion with serialized parameters, textual data only, image is not allowed * addBinaryCaptureData: Image ingestionFor the current requirement (no batching offload), we are going to use sendCompactCapture and addBinaryCaptureData . The reason for not using sendCapture to send both textual data and image at the same time is that we have a new configuration in ANPR that allow agency to config if they want to send image over LTE or Wifi only.Please also notice that we these two calls don’t need to be in-order, i.e. we don’t need to ingest textual data before image and vice versa, the MS can associate them.sendCompactCapturepublic final String sendCompactCapture(              String capture)              throws RemoteExceptionParameter definition:Detail of all fields:Example request:<?xml    version="1.0"    ?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"    xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"    xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/">    <SOAP-ENV:Body SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">        <NS1:sendCompactCapture xmlns:NS1="http://input.webservices.bof2.anite.com">            <capture xsi:type="xsd:string">                | 77652| EU60CGF| 42| 51| 2| 1552325756000| 0.000000| 0.000000| 0| | | | 100| 0            </capture>        </NS1:sendCompactCapture>    </SOAP-ENV:Body></SOAP-ENV:Envelope>addBinaryCaptureDatapublic final String addBinaryCaptureData (              String signature,              String username,              String vrm,              Short feedIdentifier,              Short sourceIdentifier,              Short cameraIdentifier,              Date captureTime,              byte[] binaryImage,              String binaryDataType)              throws RemoteException;Parameter definition:Example request:<?xml    version="1.0"    ?><SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"    xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"    xmlns:SOAP-ENC="http://schemas.xmlsoap.org/soap/encoding/">    <SOAP-ENV:Body SOAP-ENV:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/">        <NS1:addBinaryCaptureData xmlns:NS1="http://input.webservices.bof2.anite.com">            <signature xsi:type="xsd:string">            </signature>            <username xsi:type="xsd:string">                77652            </username>            <vrm xsi:type="xsd:string">                EU60CGF            </vrm>            <feedIdentifier xsi:type="xsd:short">                42            </feedIdentifier>            <sourceIdentifier xsi:type="xsd:short">                51            </sourceIdentifier>            <cameraIdentifier xsi:type="xsd:short">                2            </cameraIdentifier>            <captureTime xsi:type="xsd:dateTime">                2019-03-11T17:35:56.000Z            </captureTime>            <binaryImage xsi:type="xsd:base64Binary">                [truncated]/9j/4AAQSkZJRgABAQAAAQABAAD//gAqSW50ZWwoUikgSlBFRyBMaWJyYXJ5LCB2ZXJzaW9uIDEs\r\nNSw0LDM2AP/bAEMAFA4PEg8NFBIQEhcVFBgeMiEeHBwePSwuJDJJQExLR0BGRVBac2JQVW1WRUZk\r\niGVtd3uBgoFOYI2XjH2Wc36BfP/bAEMBFRcXHhoeOyEhO3xTRlN8fHx8fHx8fHx8fH            </binaryImage>            <binaryDataType xsi:type="xsd:string">                O            </binaryDataType>        </NS1:addBinaryCaptureData>    </SOAP-ENV:Body></SOAP-ENV:Envelope>LoggingKPIs and engineering logsRefer more at Kpis And Engineering Logs: Fleet 3 Hub: UK ANPR Design DocumentKPI:* Tracking time of each record from the moment it is received from DVC until it is sent to ECOM* Tracking time of each record from the moment it is received from DVC until it is sent to Management server* Management Server record offload success rateEngineering logs:* ANPR/ALPR storage size* Number  Read records* Number of records in DB that are over 24 hours but haven’t cleaned up yet* Set ANPR config success (Hub serial, country, state)* Timestamp of ANPR recordAudit Logs* Currently, no more information about audit besides Axon ALPR must meet NAS audit requirements: 7.7.X Axon Fleet 3 — One Pager: Automatic Number Plate Recognition for United Kingdom (UK) [WIP]o In Beta 1 - only Record access, deletion is supportedDependencies* ECOM works is described here SDR-143 [ANPR][ECOM] Record Ingestion Detail DesignCommander ScenariosCommander is not planned to support  ANPR at this time.FAQAdd Commonly asked questions and answers here, so people don't keep asking them in the doc as comments. If you have a good FAQ section, it's easy to say RTM and not have to repeat yourself.Action ItemsAdd any open action items here. Typically a design review will yield some action items. Action items should not be for basic research required to write this design document.Constraint to close are actions that must be resolved before a design can be “accepted”. If a design has open constraints to close it cannot be approved. This is in contrast to those action items that are “recommendations” or “nice to have” items that may be done at the designers discretion.ABCDE1Action ItemOwnerConstraint to CloseNeed by dateDetails2Add UI changes to show MS connectivity statusNguyen Nguyen1Tuesday, October 313Update ECOM Configuration SyncNguyen Nguyen1Waiting ECOM design for getting FUC, Management Server access information,.. from Chi Tran405060TaskList (WIP)https://taserintl.atlassian.net/browse/FLEET-7359ABCDE1Action ItemOwnerEfforts (days)TicketsDetails2Update data model3Define protobuf changes if any.3Sync up configuration from ECOM5Get FUC, MS, ECOM offload enable/disable, ECOM offload wifi only enable/disable4Implement image cropping35Implement UTMC & BOF uploaders5Implement UTMC and BOF SOAP APIs6Implement database changes27Implement MS read ingestion logic58Apply configuration to ECOM offload flow29Implement MS connectivity checking logic510Integration testing with ECOM, UI 511Bug fix5